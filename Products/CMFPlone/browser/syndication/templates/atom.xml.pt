<?xml version="1.0" ?>
<?xml-stylesheet href="atom.css" type="text/css"?>
<feed xmlns="http://www.w3.org/2005/Atom"
      xmlns:dc="http://purl.org/dc/elements/1.1/"
      xmlns:i18n="http://xml.zope.org/namespaces/i18n"
      xmlns:metal="http://xml.zope.org/namespaces/metal"
      xmlns:tal="http://xml.zope.org/namespaces/tal"
      xml:base=""
      xml:lang="en"
      tal:define="
        feed view/feed;
        url feed/link;
      "
      tal:attributes="
        xml:base url;
        xml:lang feed/language;
      "
      i18n:domain="Products.CMFPlone"
>
  <link href=""
        rel="self"
        type="application/atom+xml"
        tal:attributes="
          href request/ACTUAL_URL;
        "
  />
  <title type="html"
         tal:content="feed/title"
  ></title>
  <subtitle tal:condition="feed/description"
            tal:content="feed/description"
  ></subtitle>
  <updated tal:content="python:feed.modified.ISO8601()"></updated>
  <link href="atom.xml"
        rel="alternate"
        type="text/html"
        tal:attributes="
          xml:base string:${url}/;
        "
  />
  <id tal:content="string:urn:syndication:${feed/uid}"></id>
  <logo tal:content="feed/logo"></logo>
  <icon tal:content="feed/icon"></icon>
  <generator uri="http://www.plone.org"
             version="1.0"
  >plone</generator>
  <rights tal:condition="feed/rights"
          tal:content="feed/rights"
  ></rights>
  <author tal:condition="python:feed.show_about and feed.author_name and feed.author_email">
    <name tal:content="feed/author_name"></name>
    <email tal:content="feed/author_email"></email>
  </author>

  <tal:repeat repeat="item feed/items">
    <entry tal:define="
             published item/published;
             modified item/modified;
           ">
      <title tal:content="item/title"></title>
      <link href=""
            rel="alternate"
            type="text/html"
            tal:attributes="
              href item/link;
            "
      />
      <link rel="enclosure"
            tal:condition="python:item.has_enclosure and item.file_length"
            tal:attributes="
              href item/file_url;
              length item/file_length;
              type item/file_type;
            "
      />
      <id tal:content="string:urn:syndication:${item/uid}">urn:syndication:12345678</id>
      <summary tal:condition="item/description"
               tal:content="item/description"
      ></summary>
      <content type="xhtml"
               xml:base=""
               xml:lang="en-US"
               xml:space="preserve"
               tal:condition="feed/settings/render_body"
               tal:attributes="
                 xml:base url;
                 xml:lang feed/language;
               "
      >
        <tal:block replace="structure string:&lt;div xmlns=&quot;http://www.w3.org/1999/xhtml&quot;&gt;"
                   on-error="nothing"
        />
        <tal:block tal:replace="structure item/render_content_core" />
        <tal:block replace="structure string:&lt;/div&gt;" />
      </content>

      <author tal:define="
                creator item/creator;
                author_name item/author_name;
                author_email item/author_email;
              "
              tal:condition="python:feed.show_about and (creator or author_name)"
      >
        <name tal:condition="author_name"
              tal:content="author_name"
        ></name>
        <name tal:condition="python: not author_name"
              tal:content="creator"
        ></name>
        <email tal:condition="author_email"
               tal:content="author_email"
        ></email>
      </author>

      <published tal:content="python: published and published.ISO8601() or modified.ISO8601()"></published>

      <updated tal:content="python:modified.ISO8601()"></updated>

      <tal:block repeat="category item/categories">
        <category tal:condition="category"
                  tal:attributes="
                    term category;
                  "
        ></category>
      </tal:block>

    </entry>

  </tal:repeat>

</feed>
