<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en"
      lang="en"
      metal:use-macro="here/main_template/macros/master"
      i18n:domain="plone">
<body>

<metal:main fill-slot="main">
  <h2 i18n:translate="title_pw_reset_tool">Password reset tool</h2>

  <p i18n:translate="desc_pw_reset_tool">This tool enables a mechanism for securely resetting user's forgotten passwords.</p>

  <h2 i18n:translate="title_set_exp_intervall">Set Expiration Interval</h2>
  <p i18n:translate="desc_set_exp_intervall">
    Specify the time until timeout of password reset requests in hours. This interval,
    added to the time a user makes a request, will decide the expiration of the request.
  </p>
  <p i18n:translate="desc2_set_exp_intervall">
    The default is <em>168 hours</em> (one week). If you leave the field blank, the timeout interval
    will reset to the default.
  </p>
  <form action="manage_setTimeout" method="post">
    <p>Set timeout interval to <input type="text" name="hours" value="&dtml-getExpirationTimeout;" /> hours.</p>
    <input type="submit" value="Change" />
  </form>

  <h2>Username Check</h2>
  <p>
    If "username check" is on, users following the confirmation link from their email
    will be required to re-enter their username. This is to combat anonymous email
    sniffing attacks and it is <strong>highly recommended</strong> that you leave
    this <strong>ON</strong> if the portal is publicly accesible.
  </p>
  <form action="manage_toggleUserCheck" method="post">
    <p>Username check is <strong><dtml-var "checkUser() and 'on' or 'off'"></strong></p>
    <input type="submit" value="Turn User Check <dtml-var "checkUser() and 'off' or 'on'">" />
  </form>

  <h2>Information</h2>

  <dtml-let stats=getStats>
  <p>Open reset requests: <dtml-var "stats['open']"></p>
  <p>Expired reset requests: <dtml-var "stats['expired']"> (expired requests deleted after 10 days)</p>
  </dtml-let>

</metal:main>

</body>
</html>




