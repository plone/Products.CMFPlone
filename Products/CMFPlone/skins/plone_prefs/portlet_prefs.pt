<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en"
      xmlns:tal="http://xml.zope.org/namespaces/tal"
      xmlns:metal="http://xml.zope.org/namespaces/metal"
      xmlns:i18n="http://xml.zope.org/namespaces/i18n"
      i18n:domain="plone">
<body>
<metal:prefs define-macro="portlet"
   tal:define="controlPanel python:modules['Products.CMFCore.utils'].getToolByName(here, 'portal_controlpanel');
               groups python:controlPanel.getGroups('site');
               site_url controlPanel/site_url">

  <tal:group tal:repeat="group groups">
    <section class="prefs-configlet card mb-4" role="section"
        tal:define="configlets python:controlPanel.enumConfiglets(group=group['id'])"
        id="prefs-${group/id}"
        tal:condition="python:controlPanel.maySeeSomeConfiglets and configlets">
      <header class="card-header">
        <strong class="" tal:content="group/title"
          i18n:translate="">Plone Configlet Group Title</strong>
      </header>
      <div class="list-group list-group-flush"
          tal:condition="configlets">
        <tal:configlets tal:repeat="configlet configlets">
          <tal:configlet define="icon_url python:'http' in configlet['icon']">
            <a href=""
              tal:condition="configlet/visible" 
              class="list-group-item list-group-item-action"
              tal:define="icon configlet/icon|nothing"
              tal:attributes="href configlet/url">
              <img tal:condition="icon_url"
                src="" alt="" class="icon"
                tal:attributes="src configlet/icon;
                                alt configlet/title"
                i18n:attributes="alt configlet/title">
              <tal:icon tal:condition="not: icon_url"
                tal:replace="structure python:icons.tag(configlet['icon'] or 'controlpanel', tag_alt=configlet['title'])" />
              <tal:configletname 
                tal:content="configlet/title"
                i18n:translate=""></tal:configletname>
              </a>
          </tal:configlet>
        </tal:configlets>
      </div>
    </section>
  </tal:group>

</metal:prefs>
</body>
</html>
