<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en"
      xmlns:tal="http://xml.zope.org/namespaces/tal"
      xmlns:metal="http://xml.zope.org/namespaces/metal"
      xmlns:i18n="http://xml.zope.org/namespaces/i18n"
      i18n:domain="plone">
<body>
<metal:prefs define-macro="portlet"
   tal:define="controlPanel python:modules['Products.CMFCore.utils'].getToolByName(here, 'portal_controlpanel');
               groups python:controlPanel.getGroups('site');
               site_url controlPanel/site_url">

  <tal:group tal:repeat="group groups">
    <section class="card mb-4" role="section"
        tal:define="configlets python:controlPanel.enumConfiglets(group=group['id'])"
        id="prefs-${group/id}"
        tal:condition="python:controlPanel.maySeeSomeConfiglets and configlets">
      <header class="card-header">
        <strong class="" tal:content="group/title"
          i18n:translate="">Plone Configlet Group Title</strong>
      </header>
      <div class="list-group list-group-flush"
          tal:condition="configlets">
        <tal:configlets tal:repeat="configlet configlets">
          <!-- todo readd icons from iconresolver -->
          <a href=""
            tal:condition="configlet/visible" 
            class="list-group-item list-group-item-action"
            tal:define="icon configlet/icon|nothing"
            tal:attributes="href configlet/url">
          <tal:configletname 
            tal:content="configlet/title"
            i18n:translate=""></tal:configletname>
          </a>
        </tal:configlets>
      </div>
    </section>
  </tal:group>

</metal:prefs>
</body>
</html>
