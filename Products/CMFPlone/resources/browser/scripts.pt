<script type="text/javascript" tal:content="string:PORTAL_URL = '${view/base_url}';"></script>
<tal:scripts repeat="script view/scripts"
  ><tal:block define="condcomment script/conditionalcomment"
    ><tal:wcondcomment tal:condition="condcomment">
       <tal:opencc tal:replace="structure string:&lt;!--[if ${condcomment}]&gt;" />
     </tal:wcondcomment
        ><script type="text/javascript" tal:attributes="src script/src; data-bundle script/bundle"></script><tal:wcondcomment tal:condition="condcomment">
       <tal:closecc tal:replace="structure string:&lt;![endif]--&gt;" />
     </tal:wcondcomment
    ></tal:block
></tal:scripts>

<tal:comment tal:replace="nothing">
Plone resets the RequireJS global "define" function after all the bundles
are delivered.

The reason for this is to help integrators have less issues dealing with
RequireJS and 3rd party scripts.

The cases this mostly helps are:
  - adding a 3rd script manually to a page template with the script tag
  - adding a 3rd script manually to a theme with the script tag
</tal:comment>
<script>
plone_define = define;
define = undefined;
</script>
