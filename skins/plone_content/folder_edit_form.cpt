<html xmlns:tal="http://xml.zope.org/namespaces/tal"
      xmlns:metal="http://xml.zope.org/namespaces/metal"
      metal:use-macro="here/main_template/macros/master"
      i18n:domain="plone">

<metal:border fill-slot="head_slot">
    <tal:border define="dummy python:request.set('enable_border',1)" />
</metal:border>

<body>

    <div metal:fill-slot="main"
         tal:define="errors options/state/getErrors">

    <h1 i18n:translate="heading_edit_folder_properties">Edit Folder Properties</h1>

    <form class="group"
          name="edit_form"
          action="#"
          method="post"
          tal:attributes="action template/getId" >

        <span class="legend" i18n:translate="legend_folder_details">Folder Details</span>

        <div class="row"
             tal:condition="python:member.getProperty('visible_ids', None)"
             tal:define="error_id errors/id | nothing;
                         id python:request.get('id', test(here.show_id(),here.getId(),''));
                         readonly python:test( here.portal_membership.getHomeUrl()==here.absolute_url(), 1, 0);" >

            <div class="label">

                <span i18n:translate="label_short_name">Short Name</span>

                <div id="id_help"
                     i18n:translate="help_name"
                     class="help"
                     style="visibility:hidden">
                Enter the Short Name of the folder. This is the part that will show up as part
                of the web address. This should be short, descriptive
                and preferrably not contain spaces, underscores or mixed case. Example:
                "expense-report-2002"
                </div>
            </div>

            <div class="field"
                  tal:attributes="class python:test(error_id, 'field error', 'field')" >

                <div tal:replace="error_id" />

                <input type="text"
                       name="id"
                       value="#"
                       size="30"
                       tabindex=""
                       onfocus="formtooltip('id_help',1)"
                       onblur="formtooltip('id_help',0)"
                       tal:attributes="value id;
                                       tabindex tabindex/next"
                       />
            </div>
        </div>

        <input type="hidden"
               name="id"
               tal:condition="python: not member.getProperty('visible_ids', None)"
               tal:attributes="value python:request.get('id', here.getId())"
               />

        <div class="row"
             tal:define="error_title errors/title|nothing;
                         Title request/title | here/Title;">
            <div class="label required">
                <span i18n:translate="label_title">Title</span>

                <div id="title_help"
                     i18n:translate="help_title"
                     class="help"
                     style="visibility:hidden">
                Enter the title of the folder.
                </div>
            </div>

            <div class="field"
                  tal:attributes="class python:test(error_title, 'field error', 'field')" >

                <div tal:condition="error_title">
                    <tal:block i18n:translate="" content="error_title">Error</tal:block>
                    <br />
                </div>

                <input type="text"
                       name="title"
                       value="#"
                       size="30"
                       tabindex=""
                       onfocus="formtooltip('title_help',1)"
                       onblur="formtooltip('title_help',0)"
                       tal:attributes="value Title;
                                       tabindex tabindex/next"
                       />

            </div>
        </div>

        <div class="row">
            <div class="label">
                <span i18n:translate="label_description">Description</span>

                <div id="description_help"
                     i18n:translate="help_description"
                     class="help"
                     style="visibility:hidden">
                Enter a brief description of the folder.
                </div>
            </div>
            <div class="field" tal:define="description request/description | here/Description ">
                <textarea cols="40"
                          rows="5"
                          tabindex=""
                          name="description"
                          onfocus="formtooltip('description_help',1)"
                          onblur="formtooltip('description_help',0)"
                          tal:content="description"
                          tal:attributes="tabindex tabindex/next"
                          >
                Description
                </textarea>
            </div>
        </div>

        <div class="row">
            <div class="label">&nbsp;</div>
            <div class="field">
                <input class="context"
                       tabindex=""
                       type="submit"
                       name="form.button.Save"
                       value="Save"
                       i18n:attributes="value"
                       tal:attributes="tabindex tabindex/next"
                       />
                <input class="context"
                       tabindex=""
                       type="submit"
                       name="form.button.Cancel"
                       value="Cancel"
                       i18n:attributes="value"
                       tal:attributes="tabindex tabindex/next"
                       />
            </div>
        </div>
        <input type="hidden" name="form.submitted" value="1" />

    </form>

</div>

</body>
</html>
