<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en"
      lang="en"
      metal:use-macro="here/main_template/macros/master"
      i18n:domain="plone">
<body>

<div metal:fill-slot="main">
    <tal:main-macro metal:define-macro="main">
        <div metal:use-macro="here/document_actions/macros/document_actions">
            Document actions (print, sendto etc)
        </div>

        <h1 tal:content="here/title_or_id" class="documentFirstHeading">
            Title or id
        </h1>

            <table class="vertical listing" style="float: right; margin: 0 0 1em 1em;">

                <tbody>
                    <tr>
                        <th i18n:translate="event_what">What</th>
                        <td tal:content="python:modules['string'].join(here.Subject(), ' ')">Conference</td>
                    </tr>
                    <tr>
                        <th i18n:translate="event_when">When</th>
                        <td>
                            <tal:differentday tal:condition="python:not here.start().Date() == here.end().Date()">
                                <span tal:replace="python:here.toLocalizedTime(here.start(), long_format=1)">Start Date Time</span>
                                <span i18n:translate="event_and">to</span> <br />
                                <span tal:replace="python:here.toLocalizedTime(here.end(), long_format=1)">End Date Time</span>
                            </tal:differentday>

                            <tal:sameday tal:condition="python:here.start().Date() == here.end().Date()"
                                         tal:define="ampm python:site_properties.getProperty('localLongTimeFormat').find('%p') >= 0">
                                <span tal:replace="python:here.toLocalizedTime(here.start())">Start Date Time</span> <br />
                                <span i18n:translate="event_from">from</span>
                                <span tal:replace="python:test(ampm, here.start().AMPMMinutes(), here.start().TimeMinutes())">Start Time</span>
                                <span i18n:translate="event_to">to</span>
                                <span tal:replace="python:test(ampm, here.end().AMPMMinutes(), here.end().TimeMinutes())">End Time</span>
                            </tal:sameday>

                        </td>
                    </tr>
                    <tr>
                        <th i18n:translate="event_where">Where</th>
                        <td tal:content="here/location">Oslo, Norway</td>
                    </tr>
                    <tr tal:condition="here/contact_name">
                        <th i18n:translate="contact_name">Contact Name</th>
                        <td tal:content="here/contact_name">John Smith</td>
                    </tr>
                    <tr tal:define="contact_email here/contact_email"
                        tal:condition="here/contact_email">
                        <th i18n:translate="contact_email">Contact Email</th>
                        <td>
                            <a tal:replace="structure python: here.spamProtect(contact_email)" />
                        </td>
                    </tr>
                    <tr tal:condition="here/contact_phone">
                        <th i18n:translate="contact_phone">Contact Phone</th>
                        <td tal:content="here/contact_phone">555-GET-PLONE</td>
                    </tr>
                </tbody>
            </table>

        <p class="documentDescription"
           tal:content="here/Description"
           tal:condition="here/Description">
            Description
        </p>

        <div tal:condition="here/text|nothing">
            <div tal:replace="structure here/text" />
        </div>

        <p tal:condition="here/event_url|nothing">
        <span i18n:translate="event_for_more_info_go_to">For more information, visit</span><br />

        <a href="event_url"
           tal:attributes="href here/event_url"
           tal:content="here/event_url">event_url</a>
        </p>

        <div metal:use-macro="here/document_relateditems/macros/relatedItems">
            show related items if they exist
        </div>

        <div metal:use-macro="here/document_byline/macros/byline">
            Get the byline - contains details about author and modification date.
        </div>
    </tal:main-macro>
</div>

</body>
</html>
